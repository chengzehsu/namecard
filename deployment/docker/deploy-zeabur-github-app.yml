name: ç°¡åŒ– Zeabur éƒ¨ç½²ï¼ˆGitHub App æ–¹å¼ï¼‰

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  deploy:
    name: ğŸš€ éƒ¨ç½²åˆ° Zeabur
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ”„ æª¢å‡ºä»£ç¢¼
      uses: actions/checkout@v4
    
    - name: ğŸ“ éƒ¨ç½²ä¿¡æ¯
      run: |
        echo "ğŸš€ Zeabur GitHub App è‡ªå‹•éƒ¨ç½²"
        echo "ğŸ“… éƒ¨ç½²æ™‚é–“: $(date)"
        echo "ğŸŒ¿ åˆ†æ”¯: ${{ github.ref_name }}"
        echo "ğŸ“ æäº¤: ${{ github.sha }}"
        echo "ğŸ‘¤ è§¸ç™¼è€…: ${{ github.actor }}"
        echo ""
        echo "âœ… å¦‚æœå·²æ­£ç¢ºè¨­ç½® Zeabur GitHub Appï¼Œéƒ¨ç½²æœƒè‡ªå‹•é–‹å§‹"
        echo "ğŸ” è«‹å‰å¾€ Zeabur Dashboard æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹: https://dash.zeabur.com/"
    
    - name: ğŸ“± éƒ¨ç½²å¾Œè¨­ç½®æé†’
      run: |
        echo ""
        echo "ğŸ“± éƒ¨ç½²å®Œæˆå¾Œï¼Œè¨˜å¾—è¨­ç½® Telegram Webhook:"
        echo "   curl -X POST \"https://api.telegram.org/bot\$TELEGRAM_BOT_TOKEN/setWebhook\" \\"
        echo "        -d \"url=https://your-app.zeabur.app/telegram-webhook\""
        echo ""
        echo "ğŸ§ª æ¸¬è©¦æ‡‰ç”¨å¥åº·ç‹€æ…‹:"
        echo "   curl https://your-app.zeabur.app/health"